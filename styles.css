:root {
  --bg: #ffffff;
  --text: #111827;
  --muted: #4b5563;
  --accent: #2563eb;
  --border: #cbd5e1;
  --error: #b91c1c;
  --success: #047857;
}

/* High contrast theme */
.contrast-high {
  --bg: #000000;
  --text: #ffffff;
  --muted: #d1d5db;
  --accent: #00ffff;
  --border: #9ca3af;
  --error: #ff4d4d;
  --success: #4dff88;
}

html, body { height: 100%; }
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  background: var(--bg);
  color: var(--text);
  margin: 0;
}

.screen { display: none; padding: 20px; max-width: 900px; margin: 0 auto; }
.active { display: block; }

header h1 { margin: 0 0 4px; font-size: 2rem; }
.subtitle { color: var(--muted); margin-bottom: 12px; }

.stack { display: grid; grid-template-columns: 1fr; gap: 12px; }
.control { display: flex; flex-direction: column; gap: 6px; }
label { font-weight: 700; }

select, button, input[type="text"] {
  font: inherit; padding: 10px 14px; border-radius: 10px; border: 2px solid var(--border);
  background: var(--bg); color: var(--text); min-height: 44px;
}
button { cursor: pointer; border-width: 0; }
.primary { background: var(--accent); color: #fff; }
.secondary, .link { background: transparent; border: 2px solid var(--accent); color: var(--accent); }
.link { border-width: 0; padding: 8px 12px; }

.row { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }

:focus-visible { outline: 3px solid var(--accent); outline-offset: 3px; }

/* Game */
.topbar { display: flex; justify-content: space-between; align-items: center; gap: 10px; margin-bottom: 8px; }
.a11y-inline { display: flex; gap: 8px; align-items: center; }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }

.game-area { max-width: 720px; margin: 0 auto; padding: 24px; background: #fff; border-radius: 12px; box-shadow: 0 4px 14px rgba(0,0,0,.08); }
.challenge { font-size: 1rem; font-weight: 700; color: var(--accent); text-align:center; margin-bottom: 8px; }
.current-letter { font-size: 64px; font-weight: 800; color: var(--accent); text-align:center; margin: 8px 0; }
.word-input { width: 100%; max-width: 460px; margin: 0 auto; display: block; text-align: center; }
.feedback { min-height: 24px; font-weight: 700; text-align: center; margin-top: 8px; }
.feedback.success { color: var(--success); }
.feedback.error { color: var(--error); }

.stats { display:flex; justify-content: space-around; gap:10px; flex-wrap: wrap; font-weight:700; margin: 8px 0 6px; }
.stat { background:#f3f4f6; padding: 8px 12px; border-radius: 8px; }
.timer { text-align:center; font-size:26px; font-weight:800; color: var(--accent); margin: 6px 0 8px; }
.timer.urgent { color: var(--error); animation: pulse 1s infinite; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.6} }

.power-ups { display:flex; justify-content:center; gap: 10px; margin: 10px 0; }
.power-up { background: var(--accent); color:#fff; border:none; padding:8px 12px; min-width:90px; border-radius:8px; cursor:pointer; }
.power-up:disabled { background:#9ca3af; cursor:not-allowed; }
.hint-display { text-align:center; color: var(--accent); font-weight:700; min-height: 20px; }

.button-row { display:flex; justify-content:center; gap:10px; flex-wrap:wrap; margin-top:10px; }
.game-over { background:#f9fafb; padding: 16px; border-radius: 12px; margin-top: 16px; }
.words-list { max-height: 220px; overflow: auto; padding: 10px; background:#f3f4f6; border-radius:8px; }

/* Font-size helpers applied to <body> */
.fs-small { font-size: 14px; }
.fs-normal { font-size: 16px; }
.fs-large { font-size: 18px; }
.fs-xl { font-size: 20px; }
.hidden {
  display: none;
}
/* Keep power-ups visible above iOS keyboard */
.power-ups {
  position: sticky;
  bottom: 0;
  z-index: 999;                    /* stay on top */
  padding: 10px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background: var(--bg);           /* solid backdrop when it floats */
  border-top: 1px solid var(--border);
}

/* Give the game area extra room so sticky bar doesn't overlap content */
.game-area {
  padding-bottom: 120px; /* space for buttons when sticky */
}

/* Prefer dynamic viewport height when supported (prevents jumpiness) */
@supports (height: 100dvh) {
  .game-area { min-height: 100dvh; }
}

/* iOS zoom avoidance on inputs (>=16px prevents involuntary zoom) */
input[type="text"].word-input { font-size: 18px; }
